"use strict";Object.defineProperty(exports,"__esModule",{value:true});require("babel-polyfill");var _server=require("../../server");var _startPackager=require("./startPackager");var _startPackager2=_interopRequireDefault(_startPackager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var log=require('npmlog');var fructosePackager=void 0;var server=void 0;exports.default=function(){var packager=new _startPackager2.default();var server=new _server.FructoseServer(7811);var setup=function setup(){return regeneratorRuntime.async(function setup$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(3);_context.next=3;return regeneratorRuntime.awrap(packager.start().then(function(){return log.verbose("packager started");}));case 3:console.log(4);_context.next=6;return regeneratorRuntime.awrap(server.start().then(function(){return log.verbose("fructose server started on 7811",server.server.address());}));case 6:console.log(5);case 7:case"end":return _context.stop();}}},null,undefined);};var cleanup=function cleanup(){return regeneratorRuntime.async(function cleanup$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return regeneratorRuntime.awrap(packager.kill());case 2:console.log('killed packager');server.close();console.log('closed server');case 5:case"end":return _context2.stop();}}},null,undefined);};return{setup:setup,cleanup:cleanup};};